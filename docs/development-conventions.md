# –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–∞–≤–∏–ª–∞ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤ –≤ –∞—É—Ç—Å–æ—Ä—Å-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **React 18+** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Storybook** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Yarn** - –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ npm)
- **tsx** - –±—ã—Å—Ç—Ä—ã–π TypeScript/JSX runner (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ ts-node)
- **CSS Modules** - –∏–∑–æ–ª—è—Ü–∏—è —Å—Ç–∏–ª–µ–π
- **ESLint** - –ª–∏–Ω—Ç–µ—Ä –¥–ª—è JavaScript/TypeScript
- **Stylelint** - –ª–∏–Ω—Ç–µ—Ä –¥–ª—è CSS

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@tinkoff/utils` –≤–º–µ—Å—Ç–æ `lodash` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ `@tinkoff/utils` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É—Ç–∏–ª–∏—Ç–∞–º –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Tinkoff

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
yarn add @tinkoff/utils
```

## üõ† –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
yarn install

# –ó–∞–ø—É—Å–∫ Storybook –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
yarn dev
# –∏–ª–∏
yarn storybook

# –°–±–æ—Ä–∫–∞ Storybook
yarn storybook:build

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
yarn create-microfrontend <name> [description] [author]

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
yarn prepare-integration
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript —Ç–∏–ø–æ–≤
yarn check:types

# –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript/TypeScript –∫–æ–¥–∞
yarn check:js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS —Å—Ç–∏–ª–µ–π
yarn check:css

# –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
yarn check:all

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JS/TS –∫–æ–¥–∞
yarn format:js

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSS
yarn format:css

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞
yarn format:all
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

- **–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã**: `kebab-case` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `user-profile`)
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: `PascalCase` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `UserProfile`)
- **–§–∞–π–ª—ã**: `kebab-case` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `user-profile.tsx`)
- **CSS –∫–ª–∞—Å—Å—ã**: `lowercase-hyphen-case` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.user-profile`)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
<microfrontend-name>/
‚îú‚îÄ‚îÄ package.json                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ <component>.tsx            # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                   # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ styles.module.css          # CSS –º–æ–¥—É–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ __stories__/
‚îÇ       ‚îî‚îÄ‚îÄ index.stories.tsx      # Storybook –∏—Å—Ç–æ—Ä–∏–∏
```

## üé® CSS –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –º–æ–¥—É–ª–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS –º–æ–¥—É–ª–∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∏–ª–µ–π:

```css
/* styles.module.css */
.root {
  display: flex;
  flex-direction: column;
  padding: 20px;
}

.title {
  font-family: 'dsHeading', 'dsHeading Fallback', sans-serif;
  font-size: 32px;
  font-weight: 600;
  color: #000000;
}
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```tsx
import s from './styles.module.css';

export const MyComponent = () => (
  <div className={s.root}>
    <h1 className={s.title}>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h1>
  </div>
);
```

## ‚öõÔ∏è React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```tsx
import { useState, useEffect } from 'react';
import s from './styles.module.css';
import type { ComponentNameProps } from './types';

export const ComponentName = ({ title, description }: ComponentNameProps) => {
  const [isLoaded, setIsLoaded] = useState(false);

  useEffect(() => {
    setIsLoaded(true);
  }, []);

  return (
    <div className={s.root}>
      <h1 className={s.title}>{title}</h1>
      {description && <p className={s.description}>{description}</p>}
    </div>
  );
};
```

### TypeScript —Ç–∏–ø—ã

```ts
export type ComponentNameProps = {
  title: string;
  description?: string;
  onClick?: () => void;
  children?: React.ReactNode;
};
```

### –•—É–∫–∏

```tsx
// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫
const useCustomHook = (initialValue: string) => {
  const [value, setValue] = useState(initialValue);

  const updateValue = (newValue: string) => {
    setValue(newValue);
  };

  return { value, updateValue };
};
```

## üìö Storybook –∏—Å—Ç–æ—Ä–∏–∏

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```tsx
import type { StoryFn } from '@storybook/react';
import MyComponent, { type MyComponentProps } from '../index';

const Block: StoryFn<typeof MyComponent> = (props: MyComponentProps) => <MyComponent {...props} />;

export const Default = {
  render: Block,
  args: {
    title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ',
  },
  name: 'default',
};

export default {
  title: 'microfrontends/pages/my-component/default',
};
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏

```tsx
export const WithDescription = {
  render: Block,
  args: {
    title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º',
    description: '–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞',
  },
  name: 'with-description',
};

export const WithoutDescription = {
  render: Block,
  args: {
    title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è',
  },
  name: 'without-description',
};
```

## üîß TypeScript

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **tsx** –≤–º–µ—Å—Ç–æ ts-node –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è TypeScript —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- **–ë—ã—Å—Ç—Ä—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é** –±–ª–∞–≥–æ–¥–∞—Ä—è esbuild
- **–õ—É—á—à—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É** —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π TypeScript
- **–ú–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –°—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
- –ò–∑–±–µ–≥–∞–π—Ç–µ `any` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `interface` –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, `type` –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–æ–≤

```ts
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ–ø—Å–æ–≤
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
  variant?: 'primary' | 'secondary';
  disabled?: boolean;
}

// –¢–∏–ø –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
type LoadingState = 'idle' | 'loading' | 'success' | 'error';

// –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ç–∏–ø—ã
type Optional<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;
```

## üß∞ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Ç–∏–ª–∏—Ç

### @tinkoff/utils

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@tinkoff/utils` –≤–º–µ—Å—Ç–æ `lodash` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ:

- `@tinkoff/utils` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API
- –õ—É—á—à–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è tree-shaking
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"
- –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É—Ç–∏–ª–∏—Ç–∞–º –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Tinkoff

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
yarn add @tinkoff/utils
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```ts
import { map, filter, compose } from '@tinkoff/utils/lib/array';
import { prop, pick } from '@tinkoff/utils/lib/object';

const users = [
  { id: 1, name: 'Alice', age: 25, active: true },
  { id: 2, name: 'Bob', age: 30, active: false },
  { id: 3, name: 'Charlie', age: 35, active: true },
];

// –ü–æ–ª—É—á–∏—Ç—å –∏–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å—Ç–∞—Ä—à–µ 25 –ª–µ—Ç
const getActiveUserNames = compose(
  map(prop('name')),
  filter((user) => user.active && user.age > 25)
);

const result = getActiveUserNames(users); // ['Charlie']
```
